<script setup>
import router from "@/router";
import { useAuthStore } from "@/stores/authStore";
import { ref } from "vue";


const authStore = useAuthStore();


const handleLogout = () => {
  authStore.logout();
  router.push("/");
};



</script>

<template>
  <div>
    <nav class="sliderbar">
      <div class="">
        <RouterLink :to="authStore.token ? '/member': '/login'">
          <img
            :src="authStore.image"
            alt="User Avatar"
            class="sliderbar-img"
          />
        </RouterLink >
        <p class="sliderbar-item-p"> {{authStore.name}} </p>
      </div>
      
      <!-- Menu Items -->

      <!-- <RouterLink v-else to="/login" class="sliderbar-item">
        <span class="sliderbar-item-icon">ðŸ‘¤</span>
        <span class="sliderbar-item-span"> ç™»å…¥ </span>
      </RouterLink> -->
      <RouterLink to="/dashboard/" class="sliderbar-item">
        <span class="sliderbar-item-icon">ðŸ“Š</span>
        <span class="sliderbar-item-span"> ç¸½è¦½ </span>
      </RouterLink>
      <RouterLink to="/dashboard/accountList" class="sliderbar-item">
        <span class="sliderbar-item-icon">ðŸ“°</span>
        <span class="sliderbar-item-span"> å¸³æˆ¶ </span>
      </RouterLink>
      <RouterLink to="/dashboard/recordadd" class="sliderbar-item">
        <span class="sliderbar-item-icon">ðŸ’°</span>
        <span class="sliderbar-item-span"> äº¤æ˜“ </span>
      </RouterLink>
      <RouterLink to="/dashboard/post" class="sliderbar-item">
        <span class="sliderbar-item-icon">ðŸ†•</span>
        <span class="sliderbar-item-span"> è²¼æ–‡ </span>
      </RouterLink>
      <a
        href="#"
        v-if="authStore.token"
        v-on:click="handleLogout"
        class="sliderbar-item"
      >
        <span class="sliderbar-item-icon">ðŸ‘¤</span>
        <span class="sliderbar-item-span"> ç™»å‡º </span>
      </a>
    </nav>
  </div>
</template>

<style scoped>
.icon {
  filter: grayscale(40%) brightness(90%);
}
</style>
